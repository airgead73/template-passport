<div class="row">
  <div class="col-6 offset-3">
    <form action="/api/users/current/update?_method=PUT" method="POST" class="card mx-auto shadow-sm" id="form_current_update">
    <div class="card-header">
      <legend>update current user</legend>
    </div>    
    <div class="card-body">
      <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" name="name" class="form-control" value="{{user.name}}">
      </div>
      <div class="form-group">
        <label for="email">Email address:</label>
        <input type="email" name="email" class="form-control" value="{{user.email}}">
      </div>
      <div class="form-group text-right">
        <button type="button" class="btn btn-link" data-toggle="modal" data-target="#modalPassword">
          <small><i class="far fa-unlock"></i> change password</small>
        </button>
      </div>

    </div>
    <div class="card-footer">
      <button type="submit" class="btn btn-primary">update</button> 
      <a href="/users" class="btn btn-secondary">cancel</a>     
    </div> 
  </form>
  </div>
  
</div>

<!-- Change Password Modal -->
<div class="modal fade" id="modalPassword" tabindex="-1" role="dialog" aria-labelledby="modalPasswordLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <form class="modal-content" action="/api/users/current/update?_method=PUT" method="POST" id="form_password_update">
      <div class="modal-header">
        <legend class="modal-title" id="modalPasswordLabel">Change password</legend>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
      <div class="form-group">
        <label for="password">Current Password:</label>
        <input type="password" name="password" class="form-control">
      </div>
      <div class="form-group">
        <label for="password_new">New Password:</label>
        <input type="password" name="password_new" class="form-control">
      </div> 
      <div class="form-group">
        <label for="password_new_confirm">Confirm Password:</label>
        <input type="password" name="password_new_confirm" class="form-control">
      </div>            
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">change</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">cancel</button>

      </div>
    </form>
  </div>
</div>
